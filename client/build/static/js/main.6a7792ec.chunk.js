(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{12:function(e,t,n){},45:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/circle.ae0d4e25.png"},59:function(e,t,n){"use strict";n.r(t);var c,s,a,i=n(2),o=n.n(i),r=n(28),l=n.n(r),d=(n(45),n(3)),j=n(19),h=n(6),u=n(5),b=n(20),p=n(35),m=n(33),f=n(34),O=n(32),x=n(4),g=n.n(x),y=n(61),v=n(1),N=function(){var e=Object(y.a)().y,t=Object(i.useState)(!1),n=Object(d.a)(t,2),c=n[0],s=n[1];Object(i.useEffect)((function(){s(e>100)}),[e]);return!!c&&Object(v.jsx)("div",{className:"scroll-to-top cursor-pointer text-center",onClick:function(){window.scrollTo({top:0,behavior:"smooth"})},children:Object(v.jsx)("span",{className:"fas fa-chevron-up icon"})})};n(12);function w(){var e=Object(h.g)().pathname;return Object(i.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}var _=b.a.button(c||(c=Object(j.a)(["\n    font-size: 1.7rem;\n"]))),k=b.a.div(s||(s=Object(j.a)(["\n    font-size: 1.5rem;\n    margin-left: -10px;\n    margin-top: 2px;\n    @media only screen and (max-width: 800px) {\n       margin-left: -15px;\n    }\n"]))),S=b.a.div(a||(a=Object(j.a)(["\n    font-size: 1.5rem;\n    margin-left: -35px;\n    margin-top: 2px;\n"]))),C=function(){var e=Object(i.useRef)(null),t=Object(i.useState)(""),n=Object(d.a)(t,2),c=n[0],s=n[1],a=Object(i.useState)([]),o=Object(d.a)(a,2),r=o[0],l=o[1],j=Object(i.useContext)(V),b=j.state,x=j.dispatch,y=Object(h.f)();Object(i.useEffect)((function(){g.a.Modal.init(e.current)}),[]);return Object(v.jsxs)("nav",{className:"navbar",children:[Object(v.jsxs)("div",{className:"nav-wrapper white",children:[Object(v.jsx)(u.b,{to:b?"/":"/signin",className:"brand-logo left",children:"Instagram"}),Object(v.jsx)("ul",{id:"nav-mobile",className:"right",children:b?[Object(v.jsx)("li",{children:Object(v.jsx)(S,{children:Object(v.jsx)("i",{"data-target":"modal1",className:"large material-icons modal-trigger",style:{color:"black"},children:"search"})})},"1"),Object(v.jsx)("li",{children:Object(v.jsx)(u.b,{to:b?"/":"/signin",children:Object(v.jsx)(k,{children:Object(v.jsx)(O.a,{})})})},"2"),Object(v.jsx)("li",{children:Object(v.jsx)(u.b,{to:"/profile",children:Object(v.jsx)(k,{children:Object(v.jsx)(m.a,{})})})},"3"),Object(v.jsx)("li",{children:Object(v.jsx)(u.b,{to:"/create",children:Object(v.jsx)(k,{children:Object(v.jsx)(f.a,{})})})},"4"),Object(v.jsx)("li",{children:Object(v.jsx)("button",{className:"btn #c62828 red darken-3 ok",onClick:function(){localStorage.clear(),x({type:"CLEAR"}),y.push("/signin"),g.a.toast({html:"Logged out successfully",classes:"#43a047 green darken-1"})},children:"Logout"})},"5")]:[Object(v.jsx)("li",{children:Object(v.jsx)(u.b,{to:"/signin",children:"SignIn"})},"6"),Object(v.jsx)("li",{children:Object(v.jsx)(u.b,{to:"/signup",children:"SignUp"})},"7")]})]}),Object(v.jsxs)("div",{id:"modal1",className:"modal style-width",ref:e,style:{color:"black"},children:[Object(v.jsx)("div",{className:"modal-footer",children:Object(v.jsx)(_,{className:"modal-close waves-effect waves-white btn-flat right",onClick:function(){return s("")},children:Object(v.jsx)(p.a,{})})}),Object(v.jsxs)("div",{className:"modal-content",children:[Object(v.jsx)("input",{type:"text",placeholder:"Search users",value:c,onChange:function(e){return t=e.target.value,s(t),void fetch("/search-users",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:t})}).then((function(e){return e.json()})).then((function(e){l(e.user)}));var t}}),r&&r.length>0?Object(v.jsx)("ul",{className:"collection",children:r.map((function(t){return Object(v.jsx)(u.b,{to:t._id!==b._id?"/profile/"+t._id:"/profile",onClick:function(){g.a.Modal.getInstance(e.current).close(),s("")},children:Object(v.jsxs)("li",{className:"collection-item",children:[Object(v.jsx)("img",{className:"search-image",src:t.pic,alt:t._id}),Object(v.jsx)("span",{className:"search-name",children:t.username}),Object(v.jsx)("span",{className:"search-email",children:t.email})]})})}))}):Object(v.jsx)("ul",{children:"No result found"})]})]}),Object(v.jsx)(N,{}),Object(v.jsx)(w,{})]})},B=n(14),I=n.n(B);var z=function(){return Object(v.jsx)(i.Fragment,{children:Object(v.jsx)("div",{style:{justifyContent:"cener",alignItems:"center",textAlign:"center",marginTop:"200px"},children:Object(v.jsx)("div",{className:"preloader-wrapper big active",children:Object(v.jsxs)("div",{className:"spinner-layer spinner-blue-only",children:[Object(v.jsx)("div",{className:"circle-clipper left",children:Object(v.jsx)("div",{className:"circle"})}),Object(v.jsx)("div",{className:"gap-patch",children:Object(v.jsx)("div",{className:"circle"})}),Object(v.jsx)("div",{className:"circle-clipper right",children:Object(v.jsx)("div",{className:"circle"})})]})})})})},A=function(e){var t=e.children,n=Object(i.useState)(!0),c=Object(d.a)(n,2),s=c[0],a=c[1],o=s?t.slice(0,150):t;return Object(v.jsxs)("p",{className:"has-text-left",children:[o,Object(v.jsx)("span",{onClick:function(){a(!s)},className:"tag",children:s?"...read more":"...show less"})]})},T=function(e){var t=Object(i.useState)([]),n=Object(d.a)(t,2),c=n[0],s=n[1],a=Object(i.useContext)(V),o=a.state;a.dispatch;Object(i.useEffect)((function(){fetch("/allpost",{headers:{Authorization:"Bearer"+localStorage.getItem("jwt")}}).then((function(e){return e.json()})).then((function(e){s(e.posts)}))}),[]);return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:"home",children:c&&c.length?c.map((function(e){return Object(v.jsxs)("div",{className:"card home-card",children:[Object(v.jsxs)("div",{style:{position:"relative"},children:[Object(v.jsx)("img",{className:"setting",src:e.postedBy.pic}),Object(v.jsxs)("h5",{style:{padding:"-2px"},children:[Object(v.jsx)(u.b,{className:"link-setting",to:e.postedBy._id!==o._id?"/profile/"+e.postedBy._id:"/profile",children:e.postedBy.username}),e.postedBy._id==o._id&&Object(v.jsx)("i",{className:"material-icons img11",onClick:function(){var t;t=e._id,fetch("/deletepost/".concat(t),{method:"delete",headers:{Authorization:"Bearer"+localStorage.getItem("jwt")}}).then((function(e){return e.json()})).then((function(e){console.log(e);var t=c.filter((function(t){return t._id!==e._id}));s(t)})).then((function(e){g.a.toast({html:"Your post Deleted Successfully",classes:"#43a047 green darken-1"})}))},children:"delete"})]})]}),Object(v.jsx)("div",{className:"card-image mar",children:Object(v.jsx)("img",{style:{maxHeight:"500px"},src:e.photo})}),Object(v.jsxs)("div",{className:"card-content",children:[Object(v.jsx)("i",{className:"material-icons",style:{color:"red"},children:"favorite"}),e.likes.includes(o._id)?Object(v.jsx)("i",{className:"material-icons",onClick:function(){var t;t=e._id,fetch("/unlike",{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer"+localStorage.getItem("jwt")},body:JSON.stringify({postId:t})}).then((function(e){return e.json()})).then((function(e){var t=c.map((function(t){return t._id==e._id?e:t}));s(t)})).catch((function(e){console.log(e)}))},children:"thumb_down"}):Object(v.jsx)("i",{className:"material-icons",onClick:function(){var t;t=e._id,fetch("/like",{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer"+localStorage.getItem("jwt")},body:JSON.stringify({postId:t})}).then((function(e){return e.json()})).then((function(e){var t=c.map((function(t){return t._id==e._id?e:t}));s(t)})).catch((function(e){console.log(e)}))},children:"thumb_up"}),Object(v.jsx)("h6",{children:Object(v.jsxs)("strong",{children:[e.likes.length," likes \xa0",e.comments.length," comments"]})}),Object(v.jsxs)("h6",{children:[Object(v.jsxs)("strong",{children:[Object(v.jsx)(u.b,{to:e.postedBy._id!==o._id?"/profile/"+e.postedBy._id:"/profile",children:e.postedBy.username})," "]}),"\xa0",Object(v.jsx)(A,{children:e.body})]}),0==e.comments.length?Object(v.jsx)("h6",{children:Object(v.jsx)("strong",{children:"No comments yet.."})}):1===e.comments.length?Object(v.jsx)("h6",{children:Object(v.jsx)("strong",{children:"View 1 comment"})}):Object(v.jsx)("h6",{children:Object(v.jsxs)("strong",{children:["View all ",e.comments.length," comments"]})}),e.comments.map((function(t){return Object(v.jsxs)("h6",{children:[Object(v.jsx)("span",{style:{fontWeight:"500"},children:Object(v.jsx)(u.b,{to:t.postedBy._id!==o._id?"/profile/"+t.postedBy._id:"/profile",children:t.postedBy.name})})," ",t.text,(e.postedBy._id===o._id||t.postedBy._id===o._id)&&Object(v.jsx)("i",{className:"material-icons",style:{float:"right"},onClick:function(){return n=e._id,a=t._id,void fetch("/deletecomment/".concat(n,"/").concat(a),{method:"delete",headers:{Authorization:"Bearer"+localStorage.getItem("jwt")}}).then((function(e){return e.json()})).then((function(e){var t=c.map((function(t){return t._id==e._id?e:t}));s(t)})).then((function(e){g.a.toast({html:"Your comment Deleted Successfully",classes:"#43a047 green darken-1"})}));var n,a},children:"delete"})]},t._id)})),Object(v.jsx)("form",{onSubmit:function(t){var n,a;t.preventDefault(),n=t.target[0].value,a=e._id,fetch("/comment",{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer"+localStorage.getItem("jwt")},body:JSON.stringify({postId:a,text:n})}).then((function(e){return e.json()})).then((function(e){console.log(e);var t=c.map((function(t){return t._id==e._id?e:t}));s(t)})).catch((function(e){console.log(e)})),t.target[0].value=""},children:Object(v.jsx)("input",{type:"text",placeholder:"add a comment"})}),Object(v.jsx)("br",{}),Object(v.jsx)("p",{children:Object(v.jsxs)("strong",{children:["Posted on ",I()(e.date).format("MMMM Do YYYY")]})})]})]},e._id)})):Object(v.jsxs)("div",{children:[Object(v.jsx)(z,{}),Object(v.jsx)("h1",{style:{textAlign:"center"},children:"No posts yet.."})]})}),Object(v.jsx)(w,{}),Object(v.jsx)(N,{})]})},E=function(){var e=Object(i.useContext)(V),t=(e.state,e.dispatch),n=Object(h.f)(),c=Object(i.useState)(""),s=Object(d.a)(c,2),a=s[0],o=s[1],r=Object(i.useState)(""),l=Object(d.a)(r,2),j=l[0],b=l[1],p=Object(i.useState)(!1),m=Object(d.a)(p,2),f=m[0],O=m[1];return Object(v.jsx)("div",{className:"mycard",children:Object(v.jsxs)("div",{className:"card auth-card input-field",children:[Object(v.jsx)("h2",{children:"Instagram"}),Object(v.jsx)("input",{type:"text",placeholder:"Your Email",value:j,onChange:function(e){return b(e.target.value)}}),Object(v.jsx)("input",{type:f?"text":"password",placeholder:"Your password",value:a,onChange:function(e){return o(e.target.value)}}),Object(v.jsxs)("button",{style:{fontSize:"15px"},className:"btn #64b5f6 blue darken-1",onClick:function(){O(!f)},children:[!0===f?Object(v.jsx)("p",{style:{fontSize:"15px",marginTop:"0px"},children:"Hide Password"}):Object(v.jsx)("p",{style:{fontSize:"15px",marginTop:"0px"},children:"Show Password"})," ",Object(v.jsx)("i",{style:{fontSize:"15px"},className:"far fa-eye"})]}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)("button",{className:"btn #64b5f6 blue darken-1",onClick:function(){/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(j)?fetch("/signin",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({passward:a,email:j})}).then((function(e){return e.json()})).then((function(e){console.log(e),e.error?g.a.toast({html:e.error,classes:"#c62828 red darken-3"}):(localStorage.setItem("jwt",e.token),localStorage.setItem("user",JSON.stringify(e.user)),t({type:"USER",payload:e.user}),g.a.toast({html:"Signed In successfully",classes:"#43a047 green darken-1"}),n.push("/"))})).catch((function(e){console.log(e)})):g.a.toast({html:"Invalid email",classes:"#c62828 red darken-3"})},children:"Login"}),Object(v.jsx)("h5",{children:Object(v.jsx)(u.b,{to:"/signup",children:"Don't have an account ?"})}),Object(v.jsx)("h6",{children:Object(v.jsx)(u.b,{to:"/reset",children:"Forgot password ?"})})]})})},P=n(8),J=function(){var e=Object(i.useState)([]),t=Object(d.a)(e,2),n=t[0],c=t[1],s=Object(i.useContext)(V),a=s.state,o=s.dispatch,r=Object(i.useState)(""),l=Object(d.a)(r,2),j=l[0],h=l[1],b=Object(i.useState)(!1),p=Object(d.a)(b,2),m=p[0],f=p[1],O=Object(i.useState)([]),x=Object(d.a)(O,2),y=x[0],N=x[1],_=function(){window.scrollTo({top:0,behavior:"smooth"})};Object(i.useEffect)((function(){fetch("/mypost",{headers:{Authorization:"Bearer"+localStorage.getItem("jwt")}}).then((function(e){return e.json()})).then((function(e){console.log(e),c(e.mypost)}))}),[]),Object(i.useEffect)((function(){if(j){var e=new FormData;e.append("file",j),e.append("upload_preset","Insta-clone"),e.append("cloud_name","amrita1"),fetch("https://api.cloudinary.com/v1_1/amrita1/image/upload",{method:"post",body:e}).then((function(e){return e.json()})).then((function(e){fetch("/updatepic",{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer"+localStorage.getItem("jwt")},body:JSON.stringify({pic:e.url})}).then((function(e){return e.json()})).then((function(e){console.log(e),localStorage.setItem("user",JSON.stringify(Object(P.a)(Object(P.a)({},a),{},{pic:e.pic}))),o({type:"UPDATEPIC",payload:e.pic}),window.location.reload()})).then((function(e){g.a.toast({html:"Profile Pic updated successfully",classes:"#c62828 green darken-3"})}))})).catch((function(e){console.log(e)}))}}),[j]);return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{style:{maxWidth:"550px",margin:"0px auto"},children:[Object(v.jsxs)("div",{style:{margin:"18px 0px",borderBottom:"1px solid grey"},children:[Object(v.jsxs)("div",{style:{display:"flex",justifyContent:"space-around"},children:[Object(v.jsx)("div",{children:Object(v.jsx)("img",{className:"img-style",src:a?a.pic:"loading"})}),Object(v.jsxs)("div",{className:"margin-set",children:[Object(v.jsxs)("h4",{className:"size",children:[Object(v.jsx)("strong",{children:a?a.username:"loading"}),"\xa0\xa0",Object(v.jsx)(u.b,{to:"/change-username",children:Object(v.jsx)("i",{className:"fas fa-edit edit-icon"})})]}),Object(v.jsxs)("h5",{className:"size",children:[a?a.name:"loading","\xa0\xa0",Object(v.jsx)(u.b,{to:"/change-name",children:Object(v.jsx)("i",{className:"fas fa-edit edit-icon1"})})]}),Object(v.jsx)(u.b,{to:"/change-email",children:Object(v.jsxs)("button",{style:{marginLeft:"0px"},className:"btn waves-effect waves-light #64b5f6 blue darken-1",children:["Update Email ",Object(v.jsx)("i",{style:{fontSize:"15px"},className:"fas fa-edit"})]})}),Object(v.jsx)(u.b,{to:"/delete-account",children:Object(v.jsx)("button",{className:"btn #c62828 red darken-3 okk1",children:"Delete My Account"})}),Object(v.jsxs)("div",{className:"ll mur",style:{display:"flex",justifyContent:"space-between",width:"108%"},children:[Object(v.jsxs)("h6",{className:"size1",children:[Object(v.jsx)("strong",{className:"dis",children:n.length})," posts"]}),Object(v.jsxs)("h6",{className:"size1",children:[Object(v.jsx)("strong",{className:"dis1",children:a?a.followers.length:"0"})," followers"]}),Object(v.jsxs)("h6",{className:"size1",children:[Object(v.jsx)("strong",{className:"dis2",children:a?a.following.length:"0"})," following"]})]})]})]}),Object(v.jsxs)("div",{className:"file-field input-field",style:{margin:"10px"},children:[Object(v.jsxs)("div",{className:"btn #64b5f6 blue darken-1",children:[Object(v.jsx)("span",{children:"Update pic"}),Object(v.jsx)("input",{type:"file",onChange:function(e){var t=e.target.files[0].type.split("/").pop().toLowerCase();"jpeg"==t||"jpg"==t||"png"==t?function(e){h(e)}(e.target.files[0]):g.a.toast({html:"Image Format is invalid",classes:"#c62828 red darken-3"})}})]}),Object(v.jsx)("div",{className:"file-path-wrapper",children:Object(v.jsx)("input",{className:"file-path validate",type:"text",placeholder:"jpg/jpeg/png format"})})]})]}),Object(v.jsxs)("div",{className:"adjust",children:[Object(v.jsx)("span",{onClick:function(){return f(!1)},style:{marginBottom:"10px",marginRight:"10px"},className:"btn red text-white",children:"Posts"}),Object(v.jsx)("span",{onClick:function(){return f(!0)},style:{marginBottom:"10px",marginRight:"10px"},className:"btn green text-white",children:"Gallery"})]}),m?Object(v.jsx)("div",{className:"gallery",children:n&&n.length>0?n.map((function(e){return Object(v.jsx)("img",{className:"item",src:e.photo,alt:e.title},e._id)})):Object(v.jsx)("h3",{style:{fontFamily:"Grand Hotel, cursive"},children:"No Posts published yet"})}):Object(v.jsx)(i.Fragment,{children:n&&n.length>0?n.map((function(e){return Object(v.jsxs)("div",{className:"card home-card",children:[Object(v.jsxs)("div",{style:{position:"relative"},children:[Object(v.jsx)("img",{className:"setting",src:e.postedBy.pic}),Object(v.jsxs)("h5",{style:{padding:"-2px"},children:[Object(v.jsx)(u.b,{onClick:_,className:"link-setting",to:e.postedBy._id!==a._id?"/profile/"+e.postedBy._id:"/profile",children:e.postedBy.username}),e.postedBy._id==a._id&&Object(v.jsx)("i",{className:"material-icons img11",onClick:function(){var t;t=e._id,fetch("/deletepost/".concat(t),{method:"delete",headers:{Authorization:"Bearer"+localStorage.getItem("jwt")}}).then((function(e){return e.json()})).then((function(e){console.log(e);var t=y.filter((function(t){return t._id!==e._id})),s=n.filter((function(t){return t._id!==e._id}));c(s),N(t)})).then((function(e){g.a.toast({html:"Post Deleted Successfully",classes:"#43a047 green darken-1"})}))},children:"delete"})]})]}),Object(v.jsx)("div",{className:"card-image mar",children:Object(v.jsx)("img",{style:{maxHeight:"500px"},src:e.photo})}),Object(v.jsxs)("div",{className:"card-content",children:[Object(v.jsx)("i",{className:"material-icons",style:{color:"red"},children:"favorite"}),e.likes.includes(a._id)?Object(v.jsx)("i",{className:"material-icons",onClick:function(){var t;t=e._id,fetch("/unlike",{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer"+localStorage.getItem("jwt")},body:JSON.stringify({postId:t})}).then((function(e){return e.json()})).then((function(e){var t=y.map((function(t){return t._id==e._id?e:t})),s=n.map((function(t){return t._id==e._id?e:t}));N(t),c(s)})).catch((function(e){console.log(e)}))},children:"thumb_down"}):Object(v.jsx)("i",{className:"material-icons",onClick:function(){var t;t=e._id,fetch("/like",{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer"+localStorage.getItem("jwt")},body:JSON.stringify({postId:t})}).then((function(e){return e.json()})).then((function(e){var t=y.map((function(t){return t._id==e._id?e:t})),s=n.map((function(t){return t._id==e._id?e:t}));N(t),c(s)})).catch((function(e){console.log(e)}))},children:"thumb_up"}),Object(v.jsx)("h6",{children:Object(v.jsxs)("strong",{children:[e.likes.length," likes \xa0",e.comments.length," comments"]})}),Object(v.jsxs)("h6",{children:[Object(v.jsxs)("strong",{children:[Object(v.jsx)(u.b,{onClick:_,to:e.postedBy._id!==a._id?"/profile/"+e.postedBy._id:"/profile",children:e.postedBy.username})," "]}),"\xa0",e.body]}),0==e.comments.length?Object(v.jsx)("h6",{children:Object(v.jsx)("strong",{children:"No comments yet.."})}):1===e.comments.length?Object(v.jsx)("h6",{children:Object(v.jsx)("strong",{children:"View 1 comment"})}):Object(v.jsx)("h6",{children:Object(v.jsxs)("strong",{children:["View all ",e.comments.length," comments"]})}),e.comments.map((function(t){return Object(v.jsxs)("h6",{children:[Object(v.jsx)("span",{style:{fontWeight:"500"},children:Object(v.jsx)(u.b,{onClick:_,to:t.postedBy._id!==a._id?"/profile/"+t.postedBy._id:"/profile",children:t.postedBy.username})})," ",t.text,(e.postedBy._id===a._id||t.postedBy._id===a._id)&&Object(v.jsx)("i",{className:"material-icons",style:{float:"right"},onClick:function(){return s=e._id,a=t._id,void fetch("/deletecomment/".concat(s,"/").concat(a),{method:"delete",headers:{Authorization:"Bearer"+localStorage.getItem("jwt")}}).then((function(e){return e.json()})).then((function(e){var t=y.map((function(t){return t._id==e._id?e:t})),s=n.map((function(t){return t._id==e._id?e:t}));N(t),c(s)})).then((function(e){g.a.toast({html:"Comment Deleted Successfully",classes:"#43a047 green darken-1"})}));var s,a},children:"delete"})]},t._id)})),Object(v.jsx)("form",{onSubmit:function(t){var s,a;t.preventDefault(),s=t.target[0].value,a=e._id,fetch("/comment",{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer"+localStorage.getItem("jwt")},body:JSON.stringify({postId:a,text:s})}).then((function(e){return e.json()})).then((function(e){console.log(e);var t=y.map((function(t){return t._id==e._id?e:t})),s=n.map((function(t){return t._id==e._id?e:t}));N(t),c(s)})).catch((function(e){console.log(e)})),t.target[0].value=""},children:Object(v.jsx)("input",{type:"text",placeholder:"add a comment"})}),Object(v.jsx)("p",{children:Object(v.jsxs)("strong",{children:["Posted on ",I()(e.date).format("MMMM Do YYYY")]})})]})]},e._id)})):Object(v.jsx)("h3",{className:"adu",children:"No Posts published yet"})})]}),Object(v.jsx)(w,{})]})},D=function(){var e=Object(h.f)(),t=Object(i.useState)(""),n=Object(d.a)(t,2),c=n[0],s=n[1],a=Object(i.useState)(""),o=Object(d.a)(a,2),r=o[0],l=o[1],j=Object(i.useState)(""),b=Object(d.a)(j,2),p=b[0],m=b[1],f=Object(i.useState)(""),O=Object(d.a)(f,2),x=O[0],y=O[1],N=Object(i.useState)(""),w=Object(d.a)(N,2),_=w[0],k=w[1],S=Object(i.useState)(!1),C=Object(d.a)(S,2),B=C[0],I=C[1],z=Object(i.useState)(void 0),A=Object(d.a)(z,2),T=A[0],E=A[1];Object(i.useEffect)((function(){T&&P()}),[T]);var P=function(){/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(x)?fetch("/signup",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:c,name:r,passward:p,email:x,pic:T})}).then((function(e){return e.json()})).then((function(t){t.error?g.a.toast({html:t.error,classes:"#c62828 red darken-3"}):(g.a.toast({html:t.message,classes:"#43a047 green darken-1"}),g.a.toast({html:"Email sent on your email id",classes:"#43a047 green darken-1"}),e.push("/signin"))})).catch((function(e){console.log(e)})):g.a.toast({html:"Invalid email",classes:"#c62828 red darken-3"})},J=function(){_?function(){var e=new FormData;e.append("file",_),e.append("upload_preset","Insta-clone"),e.append("cloud_name","amrita1"),fetch("https://api.cloudinary.com/v1_1/amrita1/image/upload",{method:"post",body:e}).then((function(e){return e.json()})).then((function(e){E(e.url)})).catch((function(e){console.log(e)}))}():P()};return Object(v.jsx)("div",{className:"mycard",children:Object(v.jsxs)("div",{className:"card auth-card input-field",children:[Object(v.jsx)("h2",{children:"Instagram"}),Object(v.jsx)("input",{type:"text",placeholder:"Enter a username",value:c,onChange:function(e){return s(e.target.value)}}),Object(v.jsx)("input",{type:"text",placeholder:"Your Name",value:r,onChange:function(e){return l(e.target.value)}}),Object(v.jsx)("input",{type:"text",placeholder:"Your Email",value:x,onChange:function(e){return y(e.target.value)}}),Object(v.jsx)("input",{type:B?"text":"password",placeholder:"Set a password",value:p,onChange:function(e){m(e.target.value)}}),Object(v.jsxs)("button",{style:{fontSize:"15px"},className:"btn #64b5f6 blue darken-1",onClick:function(){I(!B)},children:[!0===B?Object(v.jsx)("p",{style:{fontSize:"15px",marginTop:"0px"},children:"Hide Password"}):Object(v.jsx)("p",{style:{fontSize:"15px",marginTop:"0px"},children:"Show Password"})," ",Object(v.jsx)("i",{style:{fontSize:"15px"},className:"far fa-eye"})]}),Object(v.jsx)("br",{}),Object(v.jsxs)("span",{style:{fontWeight:"bold",color:"red",marginTop:"15px"},children:["Your password must have atleast :-",Object(v.jsxs)("ul",{style:{marginTop:"0px"},children:[Object(v.jsx)("li",{children:"Minimum 8 characters."}),Object(v.jsx)("li",{children:"One lowercase alphabet"}),Object(v.jsx)("li",{children:"One uppercase alphabet"}),Object(v.jsx)("li",{children:"One numeric value"})]})]}),Object(v.jsxs)("div",{className:"file-field input-field",children:[Object(v.jsxs)("div",{className:"btn #64b5f6 blue darken-1",children:[Object(v.jsx)("span",{children:"Profile pic"}),Object(v.jsx)("input",{type:"file",onChange:function(e){var t=e.target.files[0].type.split("/").pop().toLowerCase();"jpeg"===t||"jpg"===t||"png"===t?k(e.target.files[0]):g.a.toast({html:"Image Format is invalid",classes:"#c62828 red darken-3"})}})]}),Object(v.jsx)("div",{className:"file-path-wrapper",children:Object(v.jsx)("input",{className:"file-path validate",type:"text",placeholder:"Not compulsory"})})]}),Object(v.jsx)("button",{className:"btn #64b5f6 blue darken-1",onClick:function(){return J()},children:"Sign Up"}),Object(v.jsx)("h5",{children:Object(v.jsx)(u.b,{to:"/signin",children:"Already have an account ?"})})]})})},F=function(){var e=Object(h.f)(),t=Object(i.useState)(""),n=Object(d.a)(t,2),c=n[0],s=n[1],a=Object(i.useState)(""),o=Object(d.a)(a,2),r=o[0],l=o[1],j=Object(i.useState)(""),u=Object(d.a)(j,2),b=u[0],p=u[1];Object(i.useEffect)((function(){b&&fetch("/createPost",{method:"post",headers:{"Content-Type":"application/json",Authorization:"Bearer"+localStorage.getItem("jwt")},body:JSON.stringify({body:c,pic:b})}).then((function(e){return e.json()})).then((function(t){t.error?g.a.toast({html:t.error,classes:"#c62828 red darken-3"}):(g.a.toast({html:"Created post Successfully",classes:"#43a047 green darken-1"}),e.push("/"))})).catch((function(e){console.log(e)}))}),[b]);return Object(v.jsxs)("div",{className:"card okk input-field",children:[Object(v.jsx)("textarea",{className:"textarea card",cols:"30",rows:"5",type:"text",placeholder:"Write a caption",value:c,onChange:function(e){return s(e.target.value)}}),Object(v.jsxs)("div",{className:"file-field input-field",children:[Object(v.jsxs)("div",{className:"btn #64b5f6 blue darken-1",children:[Object(v.jsx)("span",{children:"Upload Image"}),Object(v.jsx)("input",{type:"file",onChange:function(e){var t=e.target.files[0].type.split("/").pop().toLowerCase();"jpeg"==t||"jpg"==t||"png"==t?l(e.target.files[0]):g.a.toast({html:"Image Format is invalid",classes:"#c62828 red darken-3"})}})]}),Object(v.jsx)("div",{className:"file-path-wrapper",children:Object(v.jsx)("input",{className:"file-path validate",type:"text",placeholder:"jpg/jpeg/png"})})]}),Object(v.jsx)("button",{className:"btn #64b5f6 blue darken-1",onClick:function(){return function(){var e=new FormData;e.append("file",r),e.append("upload_preset","Insta-clone"),e.append("cloud_name","amrita1"),fetch("https://api.cloudinary.com/v1_1/amrita1/image/upload",{method:"post",body:e}).then((function(e){return e.json()})).then((function(e){p(e.url)})).catch((function(e){console.log(e)}))}()},children:"Post Image"})]})},Y=n(39),M=function(){var e=Object(i.useRef)(null),t=Object(i.useState)(null),n=Object(d.a)(t,2),c=n[0],s=n[1],a=Object(i.useContext)(V),o=a.state,r=a.dispatch,l=Object(h.h)().userid,j=Object(i.useState)(!1),b=Object(d.a)(j,2),p=b[0],m=b[1],f=Object(i.useState)(!o||!o.following.includes(l)),O=Object(d.a)(f,2),x=O[0],y=O[1],w=Object(i.useState)([]),_=Object(d.a)(w,2),k=_[0],S=_[1],C=function(){window.scrollTo({top:0,behavior:"smooth"})},B=function(){window.location.reload()};Object(i.useEffect)((function(){fetch("/user/".concat(l),{headers:{Authorization:"Bearer"+localStorage.getItem("jwt")}}).then((function(e){return e.json()})).then((function(e){s(e)}))}),[l]);return Object(v.jsxs)(v.Fragment,{children:[c?Object(v.jsxs)("div",{style:{maxWidth:"550px",margin:"0px auto"},children:[Object(v.jsx)("div",{style:{margin:"18px 0px",borderBottom:"1px solid grey"},children:Object(v.jsxs)("div",{style:{display:"flex",justifyContent:"space-around"},children:[Object(v.jsx)("div",{children:Object(v.jsx)("img",{className:"img-style",src:c.user.pic,alt:"User"})}),Object(v.jsxs)("div",{className:"margin-set",children:[Object(v.jsx)("h4",{className:"size",children:Object(v.jsx)("strong",{children:c.user.username})}),Object(v.jsxs)("div",{className:"ll mur",style:{display:"flex",justifyContent:"space-between",width:"108%"},children:[Object(v.jsxs)("h6",{className:"size1",children:[Object(v.jsx)("strong",{className:"dis",children:c.posts.length})," posts"]}),Object(v.jsxs)("h6",{className:"size1",children:[Object(v.jsx)("strong",{className:"dis1",children:c.user.followers.length})," followers"]}),Object(v.jsxs)("h6",{className:"size1",children:[Object(v.jsxs)("strong",{className:"dis2",children:[c.user.following.length," "]})," following"]})]}),x?Object(v.jsx)("button",{style:{margin:"10px"},className:"btn waves-effect waves-light #64b5f6 blue darken-1",onClick:function(){fetch("/follow",{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer"+localStorage.getItem("jwt")},body:JSON.stringify({followId:l})}).then((function(e){return e.json()})).then((function(e){r({type:"UPDATE",payload:{following:e.following,followers:e.followers}}),localStorage.setItem("user",JSON.stringify(e)),s((function(t){return Object(P.a)(Object(P.a)({},t),{},{user:Object(P.a)(Object(P.a)({},t.user),{},{followers:[].concat(Object(Y.a)(t.user.followers),[e._id])})})})),y(!1)}))},children:"Follow"}):Object(v.jsx)("button",{style:{margin:"10px"},className:"btn waves-effect waves-light #64b5f6 blue darken-1",onClick:function(){fetch("/unfollow",{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer"+localStorage.getItem("jwt")},body:JSON.stringify({unfollowId:l})}).then((function(e){return e.json()})).then((function(e){r({type:"UPDATE",payload:{following:e.following,followers:e.followers}}),localStorage.setItem("user",JSON.stringify(e)),s((function(t){var n=t.user.followers.filter((function(t){return t!==e._id}));return Object(P.a)(Object(P.a)({},t),{},{user:Object(P.a)(Object(P.a)({},t.user),{},{followers:n})})})),y(!0)}))},children:"Following"})]})]})}),Object(v.jsxs)("div",{className:"adjust",children:[Object(v.jsx)("span",{onClick:function(){return m(!1)},style:{marginBottom:"10px",marginRight:"10px"},className:"btn red text-white",children:"Posts"}),Object(v.jsx)("span",{onClick:function(){return m(!0)},style:{marginBottom:"10px",marginRight:"10px"},className:"btn green text-white",children:"Gallery"})]}),p?Object(v.jsx)("div",{className:"gallery",children:c&&c.posts.length>0?c.posts.map((function(e){return Object(v.jsx)("img",{className:"item",src:e.photo,alt:e.title},e._id)})):Object(v.jsx)("h3",{style:{fontFamily:"Grand Hotel, cursive"},children:"No Posts published yet"})}):Object(v.jsx)(i.Fragment,{children:c&&c.posts.length>0?c.posts.map((function(t){return Object(v.jsxs)("div",{className:"card home-card",ref:e,children:[Object(v.jsxs)("div",{style:{position:"relative"},children:[Object(v.jsx)("img",{className:"setting",src:t.postedBy.pic,alt:"UserPic"}),Object(v.jsx)("h5",{style:{padding:"-2px"},children:Object(v.jsx)(u.b,{onClick:C,className:"link-setting",to:t.postedBy._id!==o._id?"/profile/"+t.postedBy._id:"/profile",children:t.postedBy.username})})]}),Object(v.jsx)("div",{className:"card-image mar",children:Object(v.jsx)("img",{style:{maxHeight:"500px"},src:t.photo,alt:"User"})}),Object(v.jsxs)("div",{className:"card-content",children:[Object(v.jsx)("i",{className:"material-icons",style:{color:"red"},children:"favorite"}),t.likes.includes(o._id)?Object(v.jsx)("i",{className:"material-icons",onClick:function(){var e;e=t._id,fetch("/unlike",{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer"+localStorage.getItem("jwt")},body:JSON.stringify({postId:e})}).then((function(e){return e.json()})).then((function(e){var t=k.map((function(t){return t._id===e._id?e:t})),n=c.posts.likes.map((function(t){return t._id===e._id?e:t}));S(t),s(n)})).catch((function(e){console.log(e)})),B()},children:"thumb_down"}):Object(v.jsx)("i",{className:"material-icons",onClick:function(){var e;e=t._id,fetch("/like",{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer"+localStorage.getItem("jwt")},body:JSON.stringify({postId:e})}).then((function(e){return e.json()})).then((function(e){var t=k.map((function(t){return t._id===e._id?e:t})),n=c.posts.likes.map((function(t){return t._id===e._id?e:t}));S(t),s(n)})).catch((function(e){console.log(e)})),B()},children:"thumb_up"}),Object(v.jsx)("h6",{children:Object(v.jsxs)("strong",{children:[t.likes.length," likes \xa0",t.comments.length," comments"]})}),Object(v.jsxs)("h6",{children:[Object(v.jsxs)("strong",{children:[Object(v.jsx)(u.b,{onClick:C,to:t.postedBy._id!==o._id?"/profile/"+t.postedBy._id:"/profile",children:t.postedBy.username})," "]}),"\xa0",t.body]}),0===t.comments.length?Object(v.jsx)("h6",{children:Object(v.jsx)("strong",{children:"No comments yet.."})}):1===t.comments.length?Object(v.jsx)("h6",{children:Object(v.jsx)("strong",{children:"View 1 comment"})}):Object(v.jsx)("h6",{children:Object(v.jsxs)("strong",{children:["View all ",t.comments.length," comments"]})}),t.comments.map((function(e){return Object(v.jsxs)("h6",{children:[Object(v.jsx)("span",{style:{fontWeight:"500"},children:Object(v.jsx)(u.b,{onClick:C,to:e.postedBy._id!==o._id?"/profile/"+e.postedBy._id:"/profile",children:e.postedBy.username})})," ",e.text,(t.postedBy._id===o._id||e.postedBy._id===o._id)&&Object(v.jsx)("i",{className:"material-icons",style:{float:"right"},onClick:function(){var n,a;n=t._id,a=e._id,fetch("/deletecomment/".concat(n,"/").concat(a),{method:"delete",headers:{Authorization:"Bearer"+localStorage.getItem("jwt")}}).then((function(e){return e.json()})).then((function(e){var t=k.map((function(t){return t._id===e._id?e:t})),n=c.posts.comments.map((function(t){return t._id===e._id?e:t}));S(t),s(n)})).then((function(e){g.a.toast({html:"Your comment Deleted Successfully",classes:"#43a047 green darken-1"})})),B()},children:"delete"})]},e._id)})),Object(v.jsx)("form",{onSubmit:function(e){var n,a;e.preventDefault(),n=e.target[0].value,a=t._id,fetch("/comment",{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer"+localStorage.getItem("jwt")},body:JSON.stringify({postId:a,text:n})}).then((function(e){return e.json()})).then((function(e){console.log(e);var t=k.map((function(t){return t._id===e._id?e:t})),n=c.posts.comments.map((function(t){return t._id===e._id?e:t}));S(t),s(n)})).catch((function(e){console.log(e)})),e.target[0].value="",B()},children:Object(v.jsx)("input",{type:"text",placeholder:"add a comment"})}),Object(v.jsx)("p",{children:Object(v.jsxs)("strong",{children:["Posted on ",I()(t.date).format("MMMM Do YYYY")]})})]})]},t._id)})):Object(v.jsx)("h3",{className:"adu",children:"No Posts published yet"})})]}):Object(v.jsx)(z,{}),Object(v.jsx)(N,{})]})},U=function(e,t){return"USER"===t.type?t.payload:"CLEAR"===t.type?null:"UPDATE"===t.type?Object(P.a)(Object(P.a)({},e),{},{followers:t.payload.followers,following:t.payload.following}):"UPDATEPIC"===t.type?Object(P.a)(Object(P.a)({},e),{},{pic:t.payload}):e},R=function(){var e=Object(h.f)(),t=Object(i.useState)(""),n=Object(d.a)(t,2),c=n[0],s=n[1];return Object(v.jsx)("div",{className:"mycard",children:Object(v.jsxs)("div",{className:"card auth-card input-field",children:[Object(v.jsx)("h2",{children:"Instagram"}),Object(v.jsx)("input",{type:"text",placeholder:"Enter your email to reset password",value:c,onChange:function(e){return s(e.target.value)}}),Object(v.jsx)("button",{className:"btn #64b5f6 blue darken-1",onClick:function(){/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(c)?fetch("/reset-password",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c})}).then((function(e){return e.json()})).then((function(t){t.error?g.a.toast({html:t.error,classes:"#c62828 red darken-3"}):(g.a.toast({html:t.message,classes:"#43a047 green darken-1"}),e.push("/signin"))})).catch((function(e){console.log(e)})):g.a.toast({html:"Invalid email",classes:"#c62828 red darken-3"})},children:"Reset password"})]})})},L=function(){var e=Object(h.f)(),t=Object(i.useState)(""),n=Object(d.a)(t,2),c=n[0],s=n[1],a=Object(h.h)().token;console.log(a);return Object(v.jsx)("div",{className:"mycard",children:Object(v.jsxs)("div",{className:"card auth-card input-field",children:[Object(v.jsx)("h2",{children:"Instagram"}),Object(v.jsx)("input",{type:"password",placeholder:"enter a new password",value:c,onChange:function(e){return s(e.target.value)}}),Object(v.jsx)("button",{className:"btn waves-effect waves-light #64b5f6 blue darken-1",onClick:function(){fetch("/new-passward",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({passward:c,token:a})}).then((function(e){return e.json()})).then((function(t){console.log(t),t.error?g.a.toast({html:t.error,classes:"#c62828 red darken-3"}):(g.a.toast({html:t.message,classes:"#43a047 green darken-1"}),e.push("/signin"))})).catch((function(e){console.log(e)}))},children:"Update password"})]})})},Z=function(){var e=Object(h.f)(),t=Object(i.useState)(""),n=Object(d.a)(t,2),c=n[0],s=n[1];return Object(v.jsx)("div",{className:"mycard",children:Object(v.jsxs)("div",{className:"card auth-card input-field",children:[Object(v.jsx)("h2",{children:"Instagram"}),Object(v.jsx)("input",{type:"text",placeholder:"Enter your previous email",value:c,onChange:function(e){return s(e.target.value)}}),Object(v.jsx)("button",{className:"btn #64b5f6 blue darken-1",onClick:function(){/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(c)?fetch("/change-email",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c})}).then((function(e){return e.json()})).then((function(t){t.error?g.a.toast({html:t.error,classes:"#c62828 red darken-3"}):(g.a.toast({html:t.message,classes:"#43a047 green darken-1"}),e.push("/signin"))})).catch((function(e){console.log(e)})):g.a.toast({html:"Invalid email",classes:"#c62828 red darken-3"})},children:"Change Email"})]})})},H=function(){var e=Object(h.f)(),t=Object(i.useState)(""),n=Object(d.a)(t,2),c=n[0],s=n[1],a=Object(h.h)().token;console.log(a);return Object(v.jsx)("div",{className:"mycard",children:Object(v.jsxs)("div",{className:"card auth-card input-field",children:[Object(v.jsx)("h2",{children:"Instagram"}),Object(v.jsx)("input",{type:"text",placeholder:"Enter a new email",value:c,onChange:function(e){return s(e.target.value)}}),Object(v.jsx)("button",{className:"btn #64b5f6 blue darken-1",onClick:function(){fetch("/new-email",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c,token:a})}).then((function(e){return e.json()})).then((function(t){console.log(t),t.error?g.a.toast({html:t.error,classes:"#c62828 red darken-3"}):(g.a.toast({html:t.message,classes:"#43a047 green darken-1"}),e.push("/signin"))})).catch((function(e){console.log(e)}))},children:"Update Email"})]})})},W=function(){var e=Object(h.f)(),t=Object(i.useState)(""),n=Object(d.a)(t,2),c=n[0],s=n[1],a=Object(i.useState)(""),o=Object(d.a)(a,2),r=o[0],l=o[1],j=Object(i.useContext)(V),u=(j.state,j.dispatch),b=Object(i.useState)(!1),p=Object(d.a)(b,2),m=p[0],f=p[1];return Object(v.jsx)("div",{className:"mycard",children:Object(v.jsxs)("div",{className:"card auth-card input-field",children:[Object(v.jsx)("h2",{children:"Instagram"}),Object(v.jsx)("input",{type:"text",placeholder:"Enter your email id",value:c,onChange:function(e){return s(e.target.value)}}),Object(v.jsx)("input",{type:m?"text":"password",placeholder:"Enter your password",value:r,onChange:function(e){return l(e.target.value)}}),Object(v.jsxs)("button",{style:{fontSize:"15px"},className:"btn #64b5f6 blue darken-1",onClick:function(){f(!m)},children:[!0===m?Object(v.jsx)("p",{style:{fontSize:"15px",marginTop:"0px"},children:"Hide Password"}):Object(v.jsx)("p",{style:{fontSize:"15px",marginTop:"0px"},children:"Show Password"})," ",Object(v.jsx)("i",{style:{fontSize:"15px"},className:"far fa-eye"})]}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)("button",{className:"btn #c62828 red darken-3",onClick:function(){/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(c)?fetch("/delete-account",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c,passward:r})}).then((function(e){return e.json()})).then((function(t){console.log(t),t.error?g.a.toast({html:t.error,classes:"#c62828 red darken-3"}):(g.a.toast({html:t.message,classes:"#43a047 green darken-1"}),localStorage.clear(),u({type:"CLEAR"}),e.push("/signin"))})).catch((function(e){console.log(e)})):g.a.toast({html:"Invalid email",classes:"#c62828 red darken-3"})},children:"Delete My Account"})]})})},V=Object(i.createContext)(),$=function(){var e=Object(h.f)(),t=Object(i.useContext)(V),n=(t.state,t.dispatch);return Object(i.useEffect)((function(){var t=JSON.parse(localStorage.getItem("user"));t?n({type:"USER",payload:t}):e.location.pathname.startsWith("/reset")||e.push("/signin")}),[]),Object(v.jsxs)(h.c,{children:[Object(v.jsx)(h.a,{exact:!0,path:"/",children:Object(v.jsx)(T,{})}),Object(v.jsx)(h.a,{path:"/signin",children:Object(v.jsx)(E,{})}),Object(v.jsx)(h.a,{path:"/signup",children:Object(v.jsx)(D,{})}),Object(v.jsx)(h.a,{exact:!0,path:"/profile",children:Object(v.jsx)(J,{})}),Object(v.jsx)(h.a,{path:"/create",children:Object(v.jsx)(F,{})}),Object(v.jsx)(h.a,{path:"/profile/:userid",children:Object(v.jsx)(M,{})}),Object(v.jsx)(h.a,{exact:!0,path:"/reset",children:Object(v.jsx)(R,{})}),Object(v.jsx)(h.a,{path:"/reset/:token",children:Object(v.jsx)(L,{})}),Object(v.jsx)(h.a,{exact:!0,path:"/change-email",children:Object(v.jsx)(Z,{})}),Object(v.jsx)(h.a,{path:"/changeEmail/:token",children:Object(v.jsx)(H,{})}),Object(v.jsx)(h.a,{path:"/delete-account",children:Object(v.jsx)(W,{})})]})};var G=function(){var e=Object(i.useReducer)(U,null),t=Object(d.a)(e,2),n=t[0],c=t[1];return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(V.Provider,{value:{state:n,dispatch:c},children:Object(v.jsx)("div",{children:Object(v.jsxs)(u.a,{children:[Object(v.jsx)(C,{}),Object(v.jsx)("main",{children:Object(v.jsx)($,{})}),Object(v.jsx)(w,{})]})})})})},q=n(36),K=n(37),Q=n(40),X=n(38),ee=(n(57),i.Component,function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,62)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),s(e),a(e),i(e)}))});l.a.render(Object(v.jsx)(o.a.StrictMode,{children:Object(v.jsx)(G,{})}),document.getElementById("root")),ee()}},[[59,1,2]]]);
//# sourceMappingURL=main.6a7792ec.chunk.js.map